<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Working</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="assets/style.css">
</head>

<body>

<!-- Begin HTML / CSS styling  -->

<div class="container">
  <!-- Header -->
  <header id="header">  
    <h1>WORD GUESS GAME</h1>
    <h2 id="outcome">** SPACE FOR POP-UP STATEMENT ON WIN **</h2>
  </header>

  <!-- Create the 2 cols for display using BStrap -->
  <div class="row">
    <div class="col-lg-4">
      <!-- Image(s) displays in left col -->
      <img class="img img-thumbnail" src="assets/hangman2.jpg" width="275px">
      <img class="img img-thumbnail" src="#" alt="Pop-Up Image" width="275px">
      <p><br>Display a Pop-up image on win here.</p>
    </div>
        
    <div class="col-lg-8">
      <div class="rightBox"> 
        <p id="pressAnyKey">** Press any key to begin **</p>        
        <p>Wins</p>
        <p id="wins"></p>
        <p>Display secret word here</p>
        <p id="random-word"></p>
        <span id="hidden-word"></span>
      

        <p>Number of guesses remaining</p>
        <p id="guesses-remaining"></p>
        <p>Letters already guessed</p>
        <p id="guesses"></p>   
      </div>
    </div>
  </div>  <!-- End row div -->
</div>  <!-- End container div -->


<script type="text/javascript">

  // Delcare variables to be used
//   var word = "";
var y = 0;
var x = 0;
var wins = 0;
var loses = 0;
var inAnswerArray = 0;
var guessesLeft = 10;
var numbWrong = 0;
var numbRight = 0;
var phraseLength = 0;
var numChar = 0;
var answers=["purple","indigo","yellow","blue","white","brown","black","tan","salmon","bone"];
var challenges=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];
var guessedArray=[];
var lettersArray=[];
var secretWord=[""];
var hiddenWord=[];
var letter=" ";
var match = false;
var randomWord=[""];
var dupe = false;

  // begin program //
getRandomWord();
hangman();

function getRandomWord() 
{ var answer = answers[Math.floor(Math.random() * answers.length)];
  document.getElementById("random-word").innerHTML=answer;
  console.log(answer);  // Console Log 1 //
  randomWord=answer;

  // hiddenWord.length===answer.length;
  for (h=0; h < answer.length; h++)
  {
    hiddenWord[h] = "_";
  }
  document.getElementById("hidden-word").innerHTML=hiddenWord;
}  
function hangman()
{
  // This function is run whenever the user presses a key.
  document.onkeyup = function(event)
  {
    var letter = event.key;
    var dupe = false;
    console.log (letter);
  
    // document.getElementById("you-guessed").innerHTML=letter;  

    //   check letter for dupe
    for (d = 0; d < randomWord.length; d++)
    {  
      if (letter === guessedArray[d])
      {
        alert("You've already selected this letter");
        dupe=true;
      }
    } // end For Loop/checking for dupe

    if (dupe===false)
    {
      for (i=0; i < randomWord.length; i++)
      { 
        if (letter === randomWord[i])
        { console.log ("we have a match !!");
          numbRight ++;
          guessedArray.push(letter);
          // hiddenWord.push(letter);
          hiddenWord[i]=letter;
          document.getElementById("hidden-word").innerHTML=hiddenWord;
        }
      }  // end main For i Loop
    }  // end if Loop for no dupes

    lettersArray.push(letter);
      
    guessesLeft --;
    document.getElementById("guesses").innerHTML=lettersArray;
    console.log(guessedArray);
    console.log(lettersArray);

    document.getElementById("guesses-remaining").innerHTML=guessesLeft;
    
    if (guessedArray.length === randomWord.length)
    { // You guessed the secret word
      wins ++;   
      document.getElementById ("outcome").innerHTML="You got it! Nice job. Play again?";   
      document.getElementById("wins").innerHTML=wins;   
    }  
    if (guessesLeft == 0) 
    { // You lost
      document.getElementById ("outcome").innerHTML="The secret word was "+randomWord+" .   You lost this one. How bout another?";
    }

  } //end on keyup function
}  //end hangman()
   </script>
</body>
</html>